!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("nouislider"),require("@angular/core"),require("@angular/forms")):"function"==typeof define&&define.amd?define(["exports","nouislider","@angular/core","@angular/forms"],t):t(e["ng2-nouislider"]={},e.noUiSlider,e.ng.core,e.ng.forms)}(this,function(e,r,n,t){"use strict";var a=(i.prototype.to=function(e){return String(parseFloat(parseFloat(String(e)).toFixed(2)))},i.prototype.from=function(e){return parseFloat(e)},i);function i(){}var o=(s.prototype.ngOnInit=function(){var s=this,e=JSON.parse(JSON.stringify({behaviour:this.behaviour,connect:this.connect,limit:this.limit,start:this.formControl!==undefined?this.formControl.value:this.ngModel,step:this.step,pageSteps:this.pageSteps,keyboard:this.keyboard,onKeydown:this.onKeydown,range:this.range||this.config.range||{min:this.min,max:this.max},tooltips:this.tooltips,snap:this.snap,animate:this.animate}));if(e.tooltips=this.tooltips||this.config.tooltips,e.format=this.format||this.config.format||new a,this.slider=r.create(this.el.nativeElement.querySelector("div"),Object.assign(this.config,e)),this.handles=[].slice.call(this.el.nativeElement.querySelectorAll(".noUi-handle")),this.config.keyboard){this.config.pageSteps===undefined&&(this.config.pageSteps=10);for(var t=function(e){e.setAttribute("tabindex",0),e.addEventListener("click",function(){e.focus()}),n.config.onKeydown===undefined?e.addEventListener("keydown",n.defaultKeyHandler):e.addEventListener("keydown",n.config.onKeydown)},n=this,i=0,o=this.handles;i<o.length;i++)t(o[i])}this.slider.on("set",function(e,t,n,i,o){s.set.emit({values:e,handle:t,unencoded:n,tap:i,positions:o})}),this.slider.on("update",function(e,t,n,i,o){s.update.emit({values:e,handle:t,unencoded:n,tap:i,positions:o})}),this.slider.on("change",function(e,t,n,i,o){s.change.emit({values:e,handle:t,unencoded:n,tap:i,positions:o})}),this.slider.on("slide",function(e,t,n,i,o){s.slide.emit({values:e,handle:t,unencoded:n,tap:i,positions:o})}),this.slider.on("start",function(e,t,n,i,o){s.start.emit({values:e,handle:t,unencoded:n,tap:i,positions:o})}),this.slider.on("end",function(e,t,n,i,o){s.end.emit({values:e,handle:t,unencoded:n,tap:i,positions:o})})},s.prototype.ngOnChanges=function(e){var t=this;this.slider&&(e.min||e.max||e.step||e.range)&&setTimeout(function(){t.slider.updateOptions({range:Object.assign({},{min:t.min,max:t.max},t.range||{}),step:t.step})})},s.prototype.toValues=function(e){var t=e.map(this.config.format.from);return 1==t.length?t[0]:t},s.prototype.writeValue=function(e){var t=this;this.slider&&setTimeout(function(){t.slider.set(e)})},s.prototype.registerOnChange=function(e){this.onChange=e},s.prototype.registerOnTouched=function(e){this.onTouched=e},s.prototype.setDisabledState=function(e){e?this.renderer.setAttribute(this.el.nativeElement.childNodes[0],"disabled","true"):this.renderer.removeAttribute(this.el.nativeElement.childNodes[0],"disabled")},s);function s(e,t){var u=this;this.el=e,this.renderer=t,this.config={},this.change=new n.EventEmitter(!0),this.update=new n.EventEmitter(!0),this.slide=new n.EventEmitter(!0),this.set=new n.EventEmitter(!0),this.start=new n.EventEmitter(!0),this.end=new n.EventEmitter(!0),this.onChange=Function.prototype,this.onTouched=Function.prototype,this.eventHandler=function(e,t,n,i){var o=u.toValues(t),s=!1;u.value!==undefined?(Array.isArray(o)&&u.value[n]!=o[n]&&(s=!0),Array.isArray(o)||u.value==o||(s=!0),s&&(e.emit(o),u.onChange(o)),Array.isArray(o)?u.value[n]=o[n]:u.value=o):u.value=o},this.defaultKeyHandler=function(e){var t,n,i=u.slider.steps(),o=parseInt(e.target.getAttribute("data-handle")),s=1,r=1,a=0;switch(e.which){case 34:r=u.config.pageSteps;case 40:case 37:s=-1,a=i[o][0],e.preventDefault();break;case 33:r=u.config.pageSteps;case 38:case 39:a=i[o][1],e.preventDefault()}t=s*r*a,Array.isArray(u.value)?(n=[].concat(u.value))[o]=n[o]+t:n=u.value+t,u.slider.set(n)}}o.decorators=[{type:n.Component,args:[{selector:"nouislider",host:{"[class.ng2-nouislider]":"true"},template:'<div [attr.disabled]="disabled ? true : undefined"></div>',styles:["\n    :host {\n      display: block;\n      margin-top: 1rem;\n      margin-bottom: 1rem;\n    }\n  "],providers:[{provide:t.NG_VALUE_ACCESSOR,useExisting:n.forwardRef(function(){return o}),multi:!0}]}]}],o.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer2}]},o.propDecorators={disabled:[{type:n.Input}],behaviour:[{type:n.Input}],connect:[{type:n.Input}],limit:[{type:n.Input}],min:[{type:n.Input}],max:[{type:n.Input}],snap:[{type:n.Input}],animate:[{type:n.Input}],range:[{type:n.Input}],step:[{type:n.Input}],format:[{type:n.Input}],pageSteps:[{type:n.Input}],config:[{type:n.Input}],ngModel:[{type:n.Input}],keyboard:[{type:n.Input}],onKeydown:[{type:n.Input}],formControl:[{type:n.Input}],tooltips:[{type:n.Input}],change:[{type:n.Output}],update:[{type:n.Output}],slide:[{type:n.Output}],set:[{type:n.Output}],start:[{type:n.Output}],end:[{type:n.Output}]};var u=function p(){};u.decorators=[{type:n.NgModule,args:[{exports:[o],declarations:[o]}]}],u.ctorParameters=function(){return[]},e.DefaultFormatter=a,e.NouisliderComponent=o,e.NouisliderModule=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng2-nouislider.umd.min.js.map
